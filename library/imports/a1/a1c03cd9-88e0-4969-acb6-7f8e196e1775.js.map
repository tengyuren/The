{"version":3,"sources":["assets\\scripts\\btn_play.js"],"names":["cc","Class","Component","properties","start","onLoad","node","on","Node","EventType","TOUCH_START","onTouchStartCallback","TOUCH_END","onTouchEndCallback","width","height","wx","getSetting","success","res","authSetting","console","log","showToast","title","icon","getUserInfo","setTimeout","hideToast","authorize","scope","onDestroy","update","dt","onKeyDown","event","onKeyUp"],"mappings":";;;;;;AACAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE,EAHP;AAMLC,EAAAA,KANK,mBAMI,CAER,CARI;AASLC,EAAAA,MAAM,EAAE,kBAAY;AAChB,SAAKC,IAAL,CAAUC,EAAV,CAAaP,EAAE,CAACQ,IAAH,CAAQC,SAAR,CAAkBC,WAA/B,EAA4C,KAAKC,oBAAjD,EAAuE,IAAvE;AACA,SAAKL,IAAL,CAAUC,EAAV,CAAaP,EAAE,CAACQ,IAAH,CAAQC,SAAR,CAAkBG,SAA/B,EAA0C,KAAKC,kBAA/C,EAAmE,IAAnE;AAEH,GAbI;AAcLF,EAAAA,oBAdK,kCAckB;AACnB,SAAKL,IAAL,CAAUQ,KAAV,GAAgB,GAAhB;AACA,SAAKR,IAAL,CAAUS,MAAV,GAAiB,EAAjB,CAFmB,CAGnB;;AACAC,IAAAA,EAAE,CAACC,UAAH,CAAc;AACZC,MAAAA,OAAO,EAAE,iBAAAC,GAAG,EAAI;AACd,YAAIA,GAAG,CAACC,WAAJ,CAAgB,gBAAhB,CAAJ,EAAuC;AACrC;AACAC,UAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAN,UAAAA,EAAE,CAACO,SAAH,CAAa;AACXC,YAAAA,KAAK,EAAE,OADI;AAEXC,YAAAA,IAAI,EAAE;AAFK,WAAb;AAIAT,UAAAA,EAAE,CAACU,WAAH,CAAe;AACbR,YAAAA,OAAO,EAAE,iBAAAC,GAAG,EAAI;AACd;AACA;AACAQ,cAAAA,UAAU,CAAC,YAAU;AACnBX,gBAAAA,EAAE,CAACY,SAAH,GADmB,CAErB;AACA;AACA;AACC,eALS,EAKR,GALQ,CAAV;AAMD;AAVY,WAAf;AAYD,SAnBD,MAoBI;AACFZ,UAAAA,EAAE,CAACa,SAAH,CAAa;AACXC,YAAAA,KAAK,EAAC,gBADK;AAEXZ,YAAAA,OAFW,qBAED;AACR;AACAG,cAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACD;AALU,WAAb;AAOD;AACF;AA/BW,KAAd;AAkCH,GApDI;AAqDLT,EAAAA,kBArDK,gCAqDe;AAChBQ,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA,SAAKhB,IAAL,CAAUQ,KAAV,GAAgB,GAAhB;AACA,SAAKR,IAAL,CAAUS,MAAV,GAAiB,EAAjB;AACH,GAzDI;AA0DLgB,EAAAA,SA1DK,uBA0DQ,CAEZ,CA5DI;AA6DLC,EAAAA,MAAM,EAAE,gBAAUC,EAAV,EAAc,CAErB,CA/DI;AAgELC,EAAAA,SAhEK,qBAgEMC,KAhEN,EAgEa,CAEjB,CAlEI;AAmELC,EAAAA,OAnEK,mBAmEID,KAnEJ,EAmEW,CAEf;AArEI,CAAT","sourceRoot":"/","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n       \r\n    },\r\n    start () {\r\n\r\n    },\r\n    onLoad: function () {\r\n        this.node.on(cc.Node.EventType.TOUCH_START, this.onTouchStartCallback, this);\r\n        this.node.on(cc.Node.EventType.TOUCH_END, this.onTouchEndCallback, this);\r\n        \r\n    },\r\n    onTouchStartCallback() {\r\n        this.node.width=190\r\n        this.node.height=55\r\n        // 调用微信授权函数\r\n        wx.getSetting({\r\n          success: res => {\r\n            if (res.authSetting['scope.userInfo']) {\r\n              // 已经授权，可以直接调用 getUserInfo 获取头像昵称，不会弹框\r\n              console.log('success')\r\n              wx.showToast({\r\n                title: '登录请求中',\r\n                icon :'loading'\r\n              });\r\n              wx.getUserInfo({\r\n                success: res => {\r\n                  // app.globalData.userInfo=res.userInfo;\r\n                  // console.log(app.globalData)\r\n                  setTimeout(function(){\r\n                    wx.hideToast();\r\n                  //   wx.reLaunch({\r\n                  //     url: '../user_message/user_message',\r\n                  //   })\r\n                  },200);\r\n                }\r\n              })\r\n            }\r\n            else{\r\n              wx.authorize({\r\n                scope:'scope.userInfo',\r\n                success() {\r\n                  // 跳转\r\n                  console.log(\"jump to new page\")\r\n                }\r\n              })\r\n            }\r\n          }\r\n        })\r\n        \r\n    },\r\n    onTouchEndCallback(){\r\n        console.log(\"songkai\")\r\n        this.node.width=195\r\n        this.node.height=60\r\n    },\r\n    onDestroy () {\r\n       \r\n    },\r\n    update: function (dt) {\r\n       \r\n    },\r\n    onKeyDown (event) {\r\n      \r\n    },\r\n    onKeyUp (event) {\r\n       \r\n    }\r\n});\r\n"]}