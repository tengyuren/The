{"version":3,"sources":["assets\\scripts\\btn_play.js"],"names":["cc","Class","Component","properties","start","onLoad","node","on","Node","EventType","TOUCH_START","onTouchStartCallback","TOUCH_END","onTouchEndCallback","console","log","width","height","wx","getSetting","success","res","authSetting","showToast","title","icon","getUserInfo","setTimeout","hideToast","button","createUserInfoButton","type","text","style","left","top","lineHeight","backgroundColor","color","textAlign","fontSize","borderRadius","onTap","onDestroy","update","dt","onKeyDown","event","onKeyUp"],"mappings":";;;;;;AACAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE,EAHP;AAMLC,EAAAA,KANK,mBAMI,CAER,CARI;AASLC,EAAAA,MAAM,EAAE,kBAAY;AAChB,SAAKC,IAAL,CAAUC,EAAV,CAAaP,EAAE,CAACQ,IAAH,CAAQC,SAAR,CAAkBC,WAA/B,EAA4C,KAAKC,oBAAjD,EAAuE,IAAvE;AACA,SAAKL,IAAL,CAAUC,EAAV,CAAaP,EAAE,CAACQ,IAAH,CAAQC,SAAR,CAAkBG,SAA/B,EAA0C,KAAKC,kBAA/C,EAAmE,IAAnE;AACH,GAZI;AAaLF,EAAAA,oBAbK,kCAakB;AACnBG,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACA,SAAKT,IAAL,CAAUU,KAAV,GAAgB,GAAhB;AACA,SAAKV,IAAL,CAAUW,MAAV,GAAiB,EAAjB,CAJmB,CAKnB;;AACAC,IAAAA,EAAE,CAACC,UAAH,CAAc;AACVC,MAAAA,OAAO,EAAE,iBAAAC,GAAG,EAAI;AACd,YAAIA,GAAG,CAACC,WAAJ,CAAgB,gBAAhB,CAAJ,EAAuC;AACrC;AACAJ,UAAAA,EAAE,CAACK,SAAH,CAAa;AACXC,YAAAA,KAAK,EAAE,OADI;AAEXC,YAAAA,IAAI,EAAE;AAFK,WAAb;AAIAP,UAAAA,EAAE,CAACQ,WAAH,CAAe;AACbN,YAAAA,OAAO,EAAE,iBAAAC,GAAG,EAAI;AACd;AACA;AACAM,cAAAA,UAAU,CAAC,YAAU;AACnBT,gBAAAA,EAAE,CAACU,SAAH,GADmB,CAErB;AACA;AACA;AACC,eALS,EAKR,GALQ,CAAV;AAMD;AAVY,WAAf;AAYD,SAlBD,MAmBI;AACF,cAAIC,MAAM,GAAGX,EAAE,CAACY,oBAAH,CAAwB;AACjCC,YAAAA,IAAI,EAAE,MAD2B;AAEjCC,YAAAA,IAAI,EAAE,QAF2B;AAGjCC,YAAAA,KAAK,EAAE;AACLC,cAAAA,IAAI,EAAE,EADD;AAELC,cAAAA,GAAG,EAAE,EAFA;AAGLnB,cAAAA,KAAK,EAAE,GAHF;AAILC,cAAAA,MAAM,EAAE,EAJH;AAKLmB,cAAAA,UAAU,EAAE,EALP;AAMLC,cAAAA,eAAe,EAAE,SANZ;AAOLC,cAAAA,KAAK,EAAE,SAPF;AAQLC,cAAAA,SAAS,EAAE,QARN;AASLC,cAAAA,QAAQ,EAAE,EATL;AAULC,cAAAA,YAAY,EAAE;AAVT;AAH0B,WAAxB,CAAb;AAgBEZ,UAAAA,MAAM,CAACa,KAAP,CAAa,UAACrB,GAAD,EAAS;AACpBP,YAAAA,OAAO,CAACC,GAAR,CAAYM,GAAZ;AACD,WAFD;AAIH;AACF;AA3CS,KAAd;AA6CH,GAhEI;AAiELR,EAAAA,kBAjEK,gCAiEe;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA,SAAKT,IAAL,CAAUU,KAAV,GAAgB,GAAhB;AACA,SAAKV,IAAL,CAAUW,MAAV,GAAiB,EAAjB;AACH,GArEI;AAsEL0B,EAAAA,SAtEK,uBAsEQ,CAEZ,CAxEI;AAyELC,EAAAA,MAAM,EAAE,gBAAUC,EAAV,EAAc,CAErB,CA3EI;AA4ELC,EAAAA,SA5EK,qBA4EMC,KA5EN,EA4Ea,CAEjB,CA9EI;AA+ELC,EAAAA,OA/EK,mBA+EID,KA/EJ,EA+EW,CAEf;AAjFI,CAAT","sourceRoot":"/","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n       \r\n    },\r\n    start () {\r\n\r\n    },\r\n    onLoad: function () {\r\n        this.node.on(cc.Node.EventType.TOUCH_START, this.onTouchStartCallback, this);\r\n        this.node.on(cc.Node.EventType.TOUCH_END, this.onTouchEndCallback, this);\r\n    },\r\n    onTouchStartCallback() {\r\n        console.log('success')\r\n        console.log(this)\r\n        this.node.width=190\r\n        this.node.height=55\r\n        // 调用微信授权函数\r\n        wx.getSetting({\r\n            success: res => {\r\n              if (res.authSetting['scope.userInfo']) {\r\n                // 已经授权，可以直接调用 getUserInfo 获取头像昵称，不会弹框\r\n                wx.showToast({\r\n                  title: '登录请求中',\r\n                  icon :'loading'\r\n                });\r\n                wx.getUserInfo({\r\n                  success: res => {\r\n                    // app.globalData.userInfo=res.userInfo;\r\n                    // console.log(app.globalData)\r\n                    setTimeout(function(){\r\n                      wx.hideToast();\r\n                    //   wx.reLaunch({\r\n                    //     url: '../user_message/user_message',\r\n                    //   })\r\n                    },200);\r\n                  }\r\n                })\r\n              }\r\n              else{\r\n                let button = wx.createUserInfoButton({\r\n                    type: 'text',\r\n                    text: '获取用户信息',\r\n                    style: {\r\n                      left: 10,\r\n                      top: 76,\r\n                      width: 200,\r\n                      height: 40,\r\n                      lineHeight: 40,\r\n                      backgroundColor: '#ff0000',\r\n                      color: '#ffffff',\r\n                      textAlign: 'center',\r\n                      fontSize: 16,\r\n                      borderRadius: 4\r\n                    }\r\n                  })\r\n                  button.onTap((res) => {\r\n                    console.log(res)\r\n                  })\r\n                  \r\n              }\r\n            }\r\n          })\r\n    },\r\n    onTouchEndCallback(){\r\n        console.log(\"songkai\")\r\n        this.node.width=195\r\n        this.node.height=60\r\n    },\r\n    onDestroy () {\r\n       \r\n    },\r\n    update: function (dt) {\r\n       \r\n    },\r\n    onKeyDown (event) {\r\n      \r\n    },\r\n    onKeyUp (event) {\r\n       \r\n    }\r\n});\r\n"]}